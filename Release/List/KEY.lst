###############################################################################
#                                                                             #
#                                                       06/Jun/2016  16:42:17 #
# IAR C/C++ Compiler V5.50.1.20465/W32, Evaluation edition for MSP430         #
# Copyright 1996-2012 IAR Systems AB.                                         #
#                                                                             #
#    __rt_version  =  3                                                       #
#    __double_size =  32                                                      #
#    __reg_r4      =  free                                                    #
#    __reg_r5      =  free                                                    #
#    __pic         =  no                                                      #
#    __core        =  430X                                                    #
#    __data_model  =  large                                                   #
#    Source file   =  C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\KEY\KEY.c                               #
#    Command line  =  C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\KEY\KEY.c -D NDEBUG -D RAM_VECTOR -lC   #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Release\List\ -lA C:\Users\615\Desktop\MSP430\MS #
#                     P430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\Release\List\ -o        #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Release\Obj\ -D__MSP430F5529__ -e --double=32    #
#                     --dlib_config "D:\Program Files (x86)\IAR               #
#                     Systems\Embedded Workbench 6.4                          #
#                     Evaluation\430\LIB\DLIB\dl430xlfn.h" -I                 #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\ -I C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Ê #
#                     ý2.5\C°æ\¹¤³ÌÄ£°å\Drivers\inc\ -I                       #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\src\ -I C:\Users\615\Desktop\MSP430\MSP4 #
#                     30F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\Drivers\src\USB\ -I       #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\src\USB\USB_config\ -I                   #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\src\USB\USB_User\ -I                     #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\srcUSB\USB_API\USB_CDC_API\ -I           #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\src\USB\USB_API\USB_HID_API\ -I          #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Drivers\src\USB\USB_API\USB_MSC_API\ -I          #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\KEY\ -I C:\Users\615\Desktop\MSP430\MSP #
#                     430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\HardWare\LED\ -I         #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\12864\ -I C:\Users\615\Desktop\MSP430\M #
#                     SP430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\HardWare\oled\ -I      #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\mpu6050\inc\ -I                         #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\mpu6050\src\ -I                         #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\nokia5110\inc\ -I                       #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\nokia5110\src\ -I                       #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\LQ_1.8_TFT\ -I                          #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\LCD_API\ -I                             #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\2.2TFT\ -I                              #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\HardWare\delay\ -I C:\Users\615\Desktop\MSP430\M #
#                     SP430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\System\ -I             #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\System\inc\ -I C:\Users\615\Desktop\MSP430\MSP43 #
#                     0F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\System\src\ -I             #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\User\ -I C:\Users\615\Desktop\MSP430\MSP430F5529 #
#                     ¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\User\USER\ -I                    #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Lib\UCOSII\CONFIG\ -I                            #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Lib\uCOSII\App\ -I C:\Users\615\Desktop\MSP430\M #
#                     SP430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\Lib\uCOSII\CONFIHG\    #
#                     -I C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ #
#                     \¹¤³ÌÄ£°å\Lib\uCOSII\PORT\ -I                           #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Lib\UCOSII\CORE\ -I                              #
#                     C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Lib\FatFs\ -I C:\Users\615\Desktop\MSP430\MSP430 #
#                     F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\Lib\FatFs\option\           #
#                     --core=430X --data_model=large -Oh --multiplier=32      #
#                     --multiplier_location=4C0 --hw_workaround=CPU40         #
#    List file     =  C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Release\List\KEY.lst                             #
#    Object file   =  C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤ #
#                     ³ÌÄ£°å\Release\Obj\KEY.r43                              #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\615\Desktop\MSP430\MSP430F5529¿âº¯Êý2.5\C°æ\¹¤³ÌÄ£°å\HardWare\KEY\KEY.c
      1          #include "KEY.h"
      2          #include "gpio.h"
      3          //¶¨ÒåLEDÒý½Å

   \                                 In  segment DATA20_C, align 1, align-sorted
      4          const IO_PIN KEY_PIN[KEY_NUM]=
   \                     KEY_PIN:
   \   000000   01010001     DC8 1, 1, 0, 1
      5          {
      6            {KEY0_PORT,KEY0_PIN},
      7            {KEY1_PORT,KEY1_PIN},
      8          };//LEDÒý½Å
      9          /*******************************************************************************
     10          *  º¯ÊýÃû³Æ£ºKEY_Init( KEYn key,uint16_t config)
     11          *  ¹¦ÄÜËµÃ÷£º°´¼ü³õÊ¼»¯
     12          *  ²ÎÊýËµÃ÷£ºKEYn key           :°´¼ü£¨KEY0,KEY1...£©
     13                       uint16_t config    :°´¼üÅäÖÃ£¬ÕâÀïÊäÈë²ÎÊýÊÇ½«¸Ã°´¼ü¶ÔÓ¦µÄIO¿ÚÅäÖÃÎªºÎÖÖÄ£Ê½
     14          *  º¯Êý·µ»Ø£ºÎÞ
     15          *  Ê¹ÓÃÊ¾Àý£ºKEY_Init( KEY_ALL,GPI|PULL_UP|IRQ_FALLING);  //½«ËùÓÐ°´¼üÅäÖÃÎªÊäÈëÄ£Ê½,ÉÏÀ­£¬ÉÏÉýÑØ´¥·¢IO¿ÚÖÐ¶Ï
     16          ********************************************************************************/

   \                                 In  segment CODE, align 2
     17          void KEY_Init( KEYn key,uint16_t config)
   \                     KEY_Init:
     18          {
   \   000000   0A14         PUSHM.A #0x1, R10
   \   000002   0A4D         MOV.W   R13, R10
     19            if(key == KEY_ALL)
   \   000004   6C93         CMP.B   #0x2, R12
   \   000006   0920         JNE     ??KEY_Init_0
     20            {
     21              for(key = KEY0;key < KEY_NUM;key++)
     22              {
     23                GPIO_Init(KEY_PIN[key].Port, KEY_PIN[key].Pin, config);
   \   000008   0E4D         MOV.W   R13, R14
   \   00000A   6D43         MOV.B   #0x2, R13
   \   00000C   5C43         MOV.B   #0x1, R12
   \   00000E   ........     CALLA   #GPIO_MultiBits_Init
   \   000012   0E4A         MOV.W   R10, R14
   \   000014   6D43         MOV.B   #0x2, R13
   \   000016   4C43         MOV.B   #0x0, R12
   \   000018   0F3C         JMP     ??KEY_Init_1
     24              }
     25            }
     26            else
     27            {
     28              GPIO_Init(KEY_PIN[key].Port, KEY_PIN[key].Pin, config);
   \                     ??KEY_Init_0:
   \   00001A   4C4C         MOV.B   R12, R12
   \   00001C   EC0C         ADDA    R12, R12
   \   00001E   CF0C         MOVA    R12, R15
   \   000020   0E4D         MOV.W   R13, R14
   \   000022   1D43         MOV.W   #0x1, R13
   \   000024   ....5A4C.... MOVX.B  KEY_PIN + 1(R12), R10
   \   00002A   5A83         SUB.B   #0x1, R10
   \   00002C   0230         JN      ??KEY_Init_2
   \   00002E                RPT     R10
   \   00002E   CA180D5D     RLAX.W  R13
   \                     ??KEY_Init_2:
   \   000032   ....5C4F.... MOVX.B  KEY_PIN(R15), R12
   \                     ??KEY_Init_1:
   \   000038   ........     CALLA   #GPIO_MultiBits_Init
     29            }
     30          }
   \   00003C   0A16         POPM.A  #0x1, R10
   \   00003E   1001         RETA
     31          /*******************************************************************************
     32          *  º¯ÊýÃû³Æ£ºKEY_ITConfig(KEYn key,BOOL ITState)
     33          *  ¹¦ÄÜËµÃ÷£º°´¼ü×´Ì¬»ñÈ¡
     34          *  ²ÎÊýËµÃ÷£ºKEYn key           :°´¼ü£¨KEY0,KEY1...£©
     35                       STATUS ITState     :ÊÇ·ñÊ¹ÄÜ°´¼üËù¶ÔÓ¦µÄIO¿ÚµÄÖÐ¶Ï
     36          *  º¯Êý·µ»Ø£ºÎÞ
     37          *  Ê¹ÓÃÊ¾Àý£ºKEY_ITConfig(KEY0,ENABLE);  //Ê¹ÄÜ°´¼ü0µÄIO¿ÚÖÐ¶Ï£¬¼´Ê¹ÄÜP2.1µÄIOµÄÖÐ¶Ï
     38          ********************************************************************************/

   \                                 In  segment CODE, align 2
     39          void KEY_ITConfig(KEYn key,STATUS ITState)
   \                     KEY_ITConfig:
     40          {
   \   000000   0A14         PUSHM.A #0x1, R10
   \   000002   4A4D         MOV.B   R13, R10
     41            if(key == KEY_ALL)
   \   000004   6C93         CMP.B   #0x2, R12
   \   000006   0920         JNE     ??KEY_ITConfig_0
     42            {
     43              for(key = KEY0;key < KEY_NUM;key++)
     44              {
     45                GPIO_ITConfig(KEY_PIN[key].Port, KEY_PIN[key].Pin, ITState);
   \   000008   4E4D         MOV.B   R13, R14
   \   00000A   5D43         MOV.B   #0x1, R13
   \   00000C   5C43         MOV.B   #0x1, R12
   \   00000E   ........     CALLA   #GPIO_ITConfig
   \   000012   4E4A         MOV.B   R10, R14
   \   000014   5D43         MOV.B   #0x1, R13
   \   000016   4C43         MOV.B   #0x0, R12
   \   000018   063C         JMP     ??KEY_ITConfig_1
     46              }
     47            }
     48            else
     49            {
     50              GPIO_ITConfig(KEY_PIN[key].Port, KEY_PIN[key].Pin, ITState);
   \                     ??KEY_ITConfig_0:
   \   00001A   4C4C         MOV.B   R12, R12
   \   00001C   EC0C         ADDA    R12, R12
   \   00001E   CF0C         MOVA    R12, R15
   \   000020   4E4D         MOV.B   R13, R14
   \   000022   ........     CALLA   #?Subroutine0
     51            }
   \                     ??KEY_ITConfig_1:
   \   000026   ........     CALLA   #GPIO_ITConfig
     52          }
   \   00002A   0A16         POPM.A  #0x1, R10
   \   00002C   1001         RETA

   \                                 In  segment CODE, align 2
   \                     ?Subroutine0:
   \   000000   ....5D4C.... MOVX.B  KEY_PIN + 1(R12), R13
   \   000006   ....5C4F.... MOVX.B  KEY_PIN(R15), R12
   \   00000C   1001         RETA
     53          /*******************************************************************************
     54          *  º¯ÊýÃû³Æ£ºKEY_Status_Get(KEYn key)
     55          *  ¹¦ÄÜËµÃ÷£º°´¼ü×´Ì¬»ñÈ¡
     56          *  ²ÎÊýËµÃ÷£ºKEYn key           :°´¼ü£¨KEY0,KEY1...£©£¬×¢Òâ×îºÃ²»ÒªÊäÈëKEY_ALL
     57          *  º¯Êý·µ»Ø£ºSTATUS £º·µ»Ø°´¼ü×´Ì¬£ºTRUE-°´ÏÂ£¬FALSE-Î´°´ÏÂ£¨ÐèÒª×¢Òâºê¶¨ÒåKEY_CLICKËù´ú±í°´ÏÂÊ±µÄµçÆ½×´Ì¬£©
     58          *  Ê¹ÓÃÊ¾Àý£ºif(TRUE == KEY_Status_Get(KEY0)){...};//ÅÐ¶ÏKEY0ÊÇ·ñ°´ÏÂ
     59          *  Ê¹ÓÃ×¢Òâ£ºÅÐ¶ÏËùÓÐ°´¼ü×´Ì¬Ê±Ö»ÒªÓÐÒ»¸öÊÇ°´ÏÂ Ôò·µ»ØTRUE
     60          ********************************************************************************/

   \                                 In  segment CODE, align 2
     61          STATUS KEY_Status_Get(KEYn key)
   \                     KEY_Status_Get:
     62          {
   \   000000   0A14         PUSHM.A #0x1, R10
     63            STATUS status = FALSE;
   \   000002   4A43         MOV.B   #0x0, R10
     64            if(key == KEY_ALL)
   \   000004   6C93         CMP.B   #0x2, R12
   \   000006   0A20         JNE     ??KEY_Status_Get_0
     65            {
     66              for(key = KEY0;key < KEY_NUM;key++)
     67              {
     68                if(KEY_CLICK == GPIO_Bit_Get(KEY_PIN[key].Port, KEY_PIN[key].Pin))
   \   000008   5D43         MOV.B   #0x1, R13
   \   00000A   5C43         MOV.B   #0x1, R12
   \   00000C   ........     CALLA   #GPIO_Bit_Get
   \   000010   4C93         CMP.B   #0x0, R12
   \   000012   0120         JNE     ??KEY_Status_Get_1
     69                  status = TRUE;
   \   000014   5A43         MOV.B   #0x1, R10
   \                     ??KEY_Status_Get_1:
   \   000016   5D43         MOV.B   #0x1, R13
   \   000018   4C43         MOV.B   #0x0, R12
   \   00001A   053C         JMP     ??KEY_Status_Get_2
     70              }
     71            }
     72            else
     73            {
     74              if(KEY_CLICK == GPIO_Bit_Get(KEY_PIN[key].Port, KEY_PIN[key].Pin))
   \                     ??KEY_Status_Get_0:
   \   00001C   4C4C         MOV.B   R12, R12
   \   00001E   EC0C         ADDA    R12, R12
   \   000020   CF0C         MOVA    R12, R15
   \   000022   ........     CALLA   #?Subroutine0
   \                     ??KEY_Status_Get_2:
   \   000026   ........     CALLA   #GPIO_Bit_Get
   \   00002A   4C93         CMP.B   #0x0, R12
   \   00002C   0120         JNE     ??KEY_Status_Get_3
     75                status = TRUE;
   \   00002E   5A43         MOV.B   #0x1, R10
     76            }
     77            return status;
   \                     ??KEY_Status_Get_3:
   \   000030   4C4A         MOV.B   R10, R12
   \   000032   0A16         POPM.A  #0x1, R10
   \   000034   1001         RETA
     78          }

   Maximum stack usage in bytes:

   CSTACK Function
   ------ --------
       8  KEY_ITConfig
            8 -> GPIO_ITConfig
       8  KEY_Init
            8 -> GPIO_MultiBits_Init
       8  KEY_Status_Get
            8 -> GPIO_Bit_Get


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      14  ?Subroutine0
      46  KEY_ITConfig
      64  KEY_Init
       4  KEY_PIN
      54  KEY_Status_Get

 
 178 bytes in segment CODE
   4 bytes in segment DATA20_C
 
 178 bytes of CODE  memory
   4 bytes of CONST memory

Errors: none
Warnings: none
